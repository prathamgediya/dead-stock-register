<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login</title>
</head>
<body style="margin:0; font-family: Arial, Helvetica, sans-serif; background:#f6f7fb;">
  <div style="min-height:100vh; display:flex; align-items:center; justify-content:center;">
    <div style="width:100%; max-width:380px; background:#fff; border:1px solid #e9ecf3; border-radius:10px; padding:24px; box-shadow:0 6px 20px rgba(0,0,0,0.06);">
      <h1 style="margin:0 0 18px; font-size:22px; text-align:center; color:#1f2937;">Welcome back</h1>
      <p id="statusText" aria-live="polite" style="margin:0 0 16px; font-size:13px; color:#6b7280; text-align:center;">Please sign in to continue</p>

      <form id="loginForm" novalidate>
        <div style="margin-bottom:12px;">
          <label for="email" style="display:block; margin:0 0 6px; font-size:13px; color:#374151;">Email</label>
          <input id="email" name="email" type="email" required autocomplete="username" placeholder="you@example.com"
                 style="width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:8px; font-size:14px; outline:none; box-sizing:border-box;" />
          <div id="emailError" style="display:none; margin-top:6px; color:#b91c1c; font-size:12px;">Enter a valid email.</div>
        </div>

        <div style="margin-bottom:6px;">
          <label for="password" style="display:block; margin:0 0 6px; font-size:13px; color:#374151;">Password</label>
          <div style="position:relative;">
            <input id="password" name="password" type="password" required minlength="6" autocomplete="current-password" placeholder="Your password"
                   style="width:100%; padding:10px 36px 10px 12px; border:1px solid #d1d5db; border-radius:8px; font-size:14px; outline:none; box-sizing:border-box;" />
            <button type="button" id="togglePw" aria-label="Show password"
                    style="position:absolute; right:8px; top:50%; transform:translateY(-50%); border:none; background:transparent; cursor:pointer; color:#6b7280; font-size:12px;">Show</button>
          </div>
          <div id="passwordError" style="display:none; margin-top:6px; color:#b91c1c; font-size:12px;">Password must be at least 6 characters.</div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; margin:10px 0 16px;">
          <label for="remember" style="display:flex; align-items:center; gap:8px; font-size:13px; color:#374151; cursor:pointer;">
            <input id="remember" type="checkbox" style="width:14px; height:14px;" />
            Remember me
          </label>
          <a href="#" onclick="return false;" style="font-size:12px; color:#2563eb; text-decoration:none;">Forgot password?</a>
        </div>

        <button id="submitBtn" type="submit"
                style="width:100%; padding:10px 12px; background:#2563eb; color:#fff; border:none; border-radius:8px; font-size:14px; cursor:pointer;">
          Sign in
        </button>
      </form>

      <div id="message" role="alert" style="display:none; margin-top:14px; padding:10px 12px; border-radius:8px; font-size:13px; background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0;">
        Logged in successfully.
      </div>

      <div id="errorBox" role="alert" style="display:none; margin-top:14px; padding:10px 12px; border-radius:8px; font-size:13px; background:#fef2f2; color:#991b1b; border:1px solid #fecaca;">
        Invalid credentials. Try email: demo@example.com, password: demo123
      </div>
    </div>
  </div>

  <script>
    (function () {
      var form = document.getElementById('loginForm');
      var emailInput = document.getElementById('email');
      var passwordInput = document.getElementById('password');
      var rememberInput = document.getElementById('remember');
      var submitBtn = document.getElementById('submitBtn');
      var emailError = document.getElementById('emailError');
      var passwordError = document.getElementById('passwordError');
      var statusText = document.getElementById('statusText');
      var message = document.getElementById('message');
      var errorBox = document.getElementById('errorBox');
      var togglePw = document.getElementById('togglePw');

      // Restore remembered email
      try {
        var savedEmail = localStorage.getItem('dsr_saved_email');
        if (savedEmail) {
          emailInput.value = savedEmail;
          rememberInput.checked = true;
        }
      } catch (e) {}

      // Show/Hide password
      togglePw.addEventListener('click', function () {
        var isPassword = passwordInput.type === 'password';
        passwordInput.type = isPassword ? 'text' : 'password';
        togglePw.textContent = isPassword ? 'Hide' : 'Show';
        togglePw.setAttribute('aria-label', isPassword ? 'Hide password' : 'Show password');
      });

      function setLoading(loading) {
        submitBtn.disabled = loading;
        submitBtn.style.opacity = loading ? '0.7' : '1';
        submitBtn.textContent = loading ? 'Signing in…' : 'Sign in';
      }

      function validate() {
        var emailValid = !!emailInput.value && emailInput.checkValidity();
        var passwordValid = !!passwordInput.value && passwordInput.value.length >= 6;

        emailError.style.display = emailValid ? 'none' : 'block';
        passwordError.style.display = passwordValid ? 'none' : 'block';

        emailInput.style.borderColor = emailValid ? '#d1d5db' : '#ef4444';
        passwordInput.style.borderColor = passwordValid ? '#d1d5db' : '#ef4444';

        return emailValid && passwordValid;
      }

      emailInput.addEventListener('input', validate);
      passwordInput.addEventListener('input', validate);

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        message.style.display = 'none';
        errorBox.style.display = 'none';

        if (!validate()) {
          statusText.textContent = 'Please fix the errors and try again.';
          return;
        }

        setLoading(true);
        statusText.textContent = 'Checking your credentials…';

        // Simulated async login (replace with real API call later)
        setTimeout(function () {
          var email = emailInput.value.trim().toLowerCase();
          var pwd = passwordInput.value;

          // Demo credentials
          var ok = email === 'demo@example.com' && pwd === 'demo123';

          if (ok) {
            try {
              if (rememberInput.checked) {
                localStorage.setItem('dsr_saved_email', email);
              } else {
                localStorage.removeItem('dsr_saved_email');
              }
              sessionStorage.setItem('dsr_auth_token', 'demo-token');
            } catch (e) {}

            statusText.textContent = 'You are signed in.';
            message.style.display = 'block';
            errorBox.style.display = 'none';
            // Example redirect placeholder (disabled in demo)
            // window.location.href = 'index.html';
          } else {
            statusText.textContent = 'Sign in failed.';
            message.style.display = 'none';
            errorBox.style.display = 'block';
          }

          setLoading(false);
        }, 900);
      });
    })();
  </script>
</body>
</html>


